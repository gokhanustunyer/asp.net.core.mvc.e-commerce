@using Microsoft.AspNetCore.Identity
@inject IConfiguration _configuration
@inject SignInManager<AppUser> signInManager
@model UserLoginModel
@{
    var providers = await signInManager.GetExternalAuthenticationSchemesAsync();
}

<link rel="stylesheet" href="~/css/forms.css">
@{
    ViewData["Title"] = "Giriş";
}

@section Styles{
    <style>
        .external-btn{
            outline:none;
            padding:.75rem;
            width:100%;
            cursor:pointer;
            color: #fff;
            border:none;
            border-radius: .2rem;
            margin-bottom:.5rem;
            transition: .3s;
            font-family: 'open sans', 'roboto', sans-serif
        }
        .external-btn i{
            font-size: 1.15rem;
        }

        .login-or{
            display:block;
            width:100%;
            text-align:center;
            color:#b3b3b3;
        }

        .btn{
            padding: .75rem!important;
        }

        .facebook:hover{
            background-color: #2d4f97!important;
        }
        .google:hover{
            background-color: #ea2e1e!important;
        }
        .forgotpsw-link{
            display:block;
            text-align:right;
            font-size:.9rem;
            color: #888!important;
            margin: .25rem 0;
            text-decoration: underline;
            padding:.25rem 0;
        }
    </style>
}

<div class="login-page">
    <div class="login-cart">
        <div style="width:400px;">
            <div style="width:100%;text-align:center">
                <img class="login-cart-logo"
                src="img/logo_transparent.png">
            </div>
            <h2 class="login-title">Giriş Yap</h2>
            
            <form action="/login" method="post" class="login-form" style="width:100%;">
                <div class="input-div">
                    <label for="username">Username</label>
                    <input id="username" type="text"
                        name="UserName" class="form-input" placeholder="Username Here">
                </div>
                <div class="input-div">
                    <label for="psw">Password</label>
                    <input id="psw" type="password" name="Password"
                        class="form-input" placeholder="Password Here">
                </div>
                <button type="submit" class="form-button">Giriş Yap</button>
                <a href="/auth/forgotPassword" class="forgotpsw-link">
                    Şifremi Unuttum</a>
            </form>
        <span class="login-or my-2">— veya —</span>
        <form asp-action="ExternalLogin" method="post" class="mb-1">
            <button type="submit" style="background-color:#3b5998"
                    value="Facebook" class="external-btn facebook" name="provider">
                <i class="fa-brands fa-facebook-f" style="margin-right:.5rem"></i> Facebook ile Giriş
            </button>
            <button type="submit" style="background-color:#ea4335"
                    value="Google" class="external-btn google" name="provider">
                <i class="fa-brands fa-google" style="margin-right:.5rem"></i> Google ile Giriş
            </button>
        </form>
        <div style="width:100%;text-align:center;margin-top:.5rem;">
            <span>Henüz bir hesabınız yok mu? </span>
            <a href="/register" class="italic">Kayıt Olun</a>
        </div>
        </div>
    </div>

</div>
 